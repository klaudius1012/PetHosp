<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hist√≥rico de Prescri√ß√µes - PetHosp</title>
    <link rel="stylesheet" href="../CSS/prescricao.css" />
  </head>
  <body>
    <main class="login-card card no-print">
      <aside class="sidebar">
        <h3>Servi√ßos</h3>
        <ul id="listaServicos">
          <li onclick="window.location.href='home.html'">Dashboard</li>
          <li onclick="window.location.href='agenda.html'">Agenda</li>
          <li onclick="window.location.href='recepcao.html'">Recep√ß√£o</li>
          <li onclick="window.location.href='tutores.html'">Tutores</li>
          <li onclick="window.location.href='animais.html'">Animais</li>
          <li onclick="window.location.href='internacao.html'">Interna√ß√£o</li>
          <li onclick="window.location.href='vacinas.html'">Vacinas</li>
        </ul>
      </aside>

      <section class="content-area">
        <button id="menuBtn" class="menu-btn" aria-label="Abrir menu">‚ò∞</button>
        <div id="conteudoServico">
          <article>
            <h2>Hist√≥rico de Prescri√ß√µes</h2>
             <div class="atendimento-header">
              <div class="header-main header-row">
                <div class="avatar-container">
                  <img
                    id="headerAnimalFoto"
                    src=""
                    alt="Foto"
                    class="avatar-img"
                  />
                  <span
                    id="headerAnimalFotoPlaceholder"
                    class="avatar-placeholder"
                    >üêæ</span
                  >
                </div>
                <div class="animal-info-col">
                  <div class="animal-name-row">
                    <h2 id="headerAnimalNome" class="animal-highlight">
                      Nome do Animal
                    </h2>
                  </div>
                  <span id="headerAnimalIdade" class="animal-age"
                    >Idade: --</span
                  >
                </div>
              </div>
              <div class="queixa-container">
                <span class="queixa-label">Queixa:</span>
                <span id="headerQueixa" class="queixa-value">--</span>
              </div>
              <div class="header-info-grid">
                <div class="info-item">
                  <span class="label">Tutor</span>
                  <span class="value" id="headerTutor">--</span>
                </div>
                <div class="info-item">
                  <span class="label">Tel.</span>
                  <span class="value" id="headerTelefone">--</span>
                </div>
                <div class="info-item">
                  <span class="label">Ra√ßa</span>
                  <span class="value" id="headerRaca">--</span>
                </div>
                <div class="info-item">
                  <span class="label">Sexo</span>
                  <span class="value" id="headerSexo">--</span>
                </div>
                <div class="info-item">
                  <span class="label">Porte</span>
                  <span class="value" id="headerPorte">--</span>
                </div>
                <div class="info-item">
                  <span class="label">Reprod.</span>
                  <span class="value" id="headerReprodutiva">--</span>
                </div>
                <div class="info-item">
                  <span class="label">Peso</span>
                  <span class="value"><span id="headerPeso">--</span> kg</span>
                </div>
                <div class="info-item">
                  <span class="label">Temp.</span>
                  <span class="value"><span id="headerTemp">--</span> ¬∞C</span>
                </div>
                <div class="info-item alert-item">
                  <span class="label">Alergias</span>
                  <span class="value" id="headerAlergias">--</span>
                </div>
              </div>
            </div>
            
            <div class="actions-container">
              <button
                class="btn btn-primary"
                onclick="window.location.href='nova-prescricao.html'"
              >
                Nova Prescri√ß√£o
              </button>
              <button
                class="btn btn-secondary"
                onclick="window.location.href='internacao.html'"
              >
                Voltar para Interna√ß√£o
              </button>
            </div>

            <table>
              <thead>
                <tr>
                  <th>Data</th>
                  <th>Resumo</th>
                  <th>Veterin√°rio</th>
                  <th>A√ß√µes</th>
                </tr>
              </thead>
              <tbody id="tbody-prescricao">
                <!-- Preenchido via JS -->
              </tbody>
            </table>
          </article>
        </div>
      </section>
    </main>

    <!-- √Årea de Impress√£o (Oculta na tela, vis√≠vel na impress√£o) -->
    <div id="print-section">
      <div class="print-header">
        <div class="print-brand">
          <img
            src="../img/logo.png"
            alt="Logo"
            onerror="this.style.display='none'"
          />
          <h1>PetClin</h1>
        </div>
        <div class="print-contact-info">
          <strong>Cl√≠nica Veterin√°ria</strong><br />
          Rua Exemplo, 123 - Centro<br />
          (11) 99999-9999 | contato@petclin.com
        </div>
      </div>

      <div class="print-info-grid">
        <div><strong>Veterin√°rio:</strong> <span id="print-vet"></span></div>
        <div><strong>Data:</strong> <span id="print-data"></span></div>
        <div><strong>Tutor:</strong> <span id="print-tutor"></span></div>
        <div><strong>Paciente:</strong> <span id="print-animal"></span></div>
      </div>

      <h3>Prescri√ß√£o M√©dica</h3>
      <table class="print-table">
        <thead>
          <tr>
            <th>Medicamento</th>
            <th>Dose</th>
            <th>Intervalo</th>
          </tr>
        </thead>
        <tbody id="print-medicamentos-tbody">
          <!-- Preenchido via JS -->
        </tbody>
      </table>

      <!-- Se√ß√µes Extras (Evolu√ß√µes, Exames, etc.) -->
      <div id="print-extras"></div>

      <div id="print-obs-container" class="print-obs" style="display: none">
        <strong>Observa√ß√µes:</strong><br />
        <span id="print-obs-text"></span>
      </div>

      <div class="print-footer">
        <div class="print-assinatura">Assinatura do Veterin√°rio</div>
        <p>Impresso em <span id="print-data-impressao"></span></p>
      </div>
    </div>

    <button id="logoutBtn" class="btn-btn-logout no-print">Sair</button>

    <script src="../JS/session-auth.js"></script>
    <script src="../JS/shared.js"></script>
    <script src="../JS/prescricao.js"></script>
  </body>
</html>
