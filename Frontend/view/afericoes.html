<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Aferi√ß√µes - PetHosp</title>
    <link rel="stylesheet" href="../CSS/afericoes.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>

  <body>
    <main class="login-card card">
      <aside class="sidebar">
        <h3>Servi√ßos</h3>
        <ul id="listaServicos">
          <li onclick="window.location.href = 'clinicas.html'">Cl√≠nicas</li>
          <li onclick="window.location.href = 'home.html'">Dashboard</li>
          <li onclick="window.location.href = 'agenda.html'">Agenda</li>
          <li onclick="window.location.href = 'recepcao.html'">Recep√ß√£o</li>
          <li onclick="window.location.href = 'tutores.html'">Tutores</li>
          <li onclick="window.location.href = 'animais.html'">Animais</li>
          <li onclick="window.location.href = 'internacao.html'">Interna√ß√£o</li>
          <li onclick="window.location.href = 'vacinas.html'">Vacinas</li>
        </ul>
      </aside>

      <section class="content-area">
        <button id="menuBtn" class="menu-btn" aria-label="Abrir menu">
          ‚ò∞
        </button>
        <div id="conteudoServico" role="tabpanel">
          <article id="view-afericoes">
            <h2>Aferi√ß√µes / Sinais Vitais</h2>
            <!-- Cabe√ßalho do Paciente (Dados do Atendimento) -->
            <div class="atendimento-header">
              <div class="header-main header-row">
                <div class="avatar-container">
                  <img
                    id="headerAnimalFoto"
                    src=""
                    alt="Foto"
                    class="avatar-img"
                  />
                  <span
                    id="headerAnimalFotoPlaceholder"
                    class="avatar-placeholder"
                    >üêæ</span
                  >
                </div>
                <div class="animal-info-col">
                  <div class="animal-name-row">
                    <h2 id="headerAnimalNome" class="animal-highlight">
                      Nome do Animal
                    </h2>
                  </div>
                  <span id="headerAnimalIdade" class="animal-age"
                    >Idade: --</span
                  >
                </div>
              </div>

              <div class="header-info-grid">
                <div class="info-item">
                  <span class="label">Tutor</span>
                  <span class="value" id="headerTutor">--</span>
                </div>
                <div class="info-item">
                  <span class="label">Tel.</span>
                  <span class="value" id="headerTelefone">--</span>
                </div>
                <div class="info-item">
                  <span class="label">Ra√ßa</span>
                  <span class="value" id="headerRaca">--</span>
                </div>
                <div class="info-item">
                  <span class="label">Sexo</span>
                  <span class="value" id="headerSexo">--</span>
                </div>
                <div class="info-item">
                  <span class="label">Porte</span>
                  <span class="value" id="headerPorte">--</span>
                </div>
                <div class="info-item">
                  <span class="label">Reprod.</span>
                  <span class="value" id="headerReprodutiva">--</span>
                </div>
                <div class="info-item">
                  <span class="label">Peso</span>
                  <span class="value"><span id="headerPeso">--</span> kg</span>
                </div>
                <div class="info-item">
                  <span class="label">Temp.</span>
                  <span class="value"><span id="headerTemp">--</span> ¬∞C</span>
                </div>
                <div class="info-item">
                  <span class="label">FC</span>
                  <span class="value"><span id="headerFC">--</span> bpm</span>
                </div>
                <div class="info-item">
                  <span class="label">FR</span>
                  <span class="value"><span id="headerFR">--</span> mpm</span>
                </div>
                <div class="info-item">
                  <span class="label">TPC</span>
                  <span class="value"><span id="headerTPC">--</span> seg</span>
                </div>
                <div class="info-item">
                  <span class="label">Mucosas</span>
                  <span class="value" id="headerMucosas">--</span>
                </div>
                <div class="info-item">
                  <span class="label">Hidrata√ß√£o</span>
                  <span class="value" id="headerHidratacao">--</span>
                </div>
                <div class="info-item">
                  <span class="label">Consci√™ncia</span>
                  <span class="value" id="headerConsciencia">--</span>
                </div>
                <div class="info-item alert-item">
                  <span class="label">Alergias</span>
                  <span id="headerAlergias" style="display: none"></span>
                  <button
                    type="button"
                    class="btn-ver-alergias"
                    id="btnOpenAlergias"
                  >
                    VER ALERGIAS
                  </button>
                </div>
              </div>
              <br />
              <div class="queixa-container">
                <span class="queixa-label">Queixa:</span>
                <span id="headerQueixa" class="queixa-value">--</span>
              </div>
            </div>

            <form id="formAfericao">
              <div class="form-grid">
                <div class="form-group">
                  <label for="dataAfericao">Data</label>
                  <input type="date" id="dataAfericao" required />
                </div>
                <div class="form-group">
                  <label for="horaAfericao">Hora</label>
                  <input type="time" id="horaAfericao" required />
                </div>
                <div class="form-group">
                  <label for="tempAfericao">Temperatura (¬∞C)</label>
                  <input
                    type="number"
                    id="tempAfericao"
                    step="0.1"
                    placeholder="Ex: 38.5"
                  />
                </div>
                <div class="form-group">
                  <label for="fcAfericao">Frequ√™ncia Card√≠aca (bpm)</label>
                  <input type="number" id="fcAfericao" placeholder="Ex: 100" />
                </div>
                <div class="form-group">
                  <label for="frAfericao">Frequ√™ncia Respirat√≥ria (mpm)</label>
                  <input type="number" id="frAfericao" placeholder="Ex: 20" />
                </div>
                <div class="form-group">
                  <label for="tpcAfericao">TPC (seg)</label>
                  <input
                    type="number"
                    id="tpcAfericao"
                    step="0.5"
                    placeholder="Ex: 2"
                  />
                </div>
                <div class="form-group">
                  <label for="paSistolica">PA Sist√≥lica (Max)</label>
                  <input type="number" id="paSistolica" placeholder="Ex: 120" />
                </div>
                <div class="form-group">
                  <label for="paDiastolica">PA Diast√≥lica (Min)</label>
                  <input type="number" id="paDiastolica" placeholder="Ex: 80" />
                </div>
                <div class="form-group">
                  <label for="glicemiaAfericao">Glicemia (mg/dL)</label>
                  <input
                    type="number"
                    id="glicemiaAfericao"
                    placeholder="Ex: 90"
                  />
                </div>
                <div class="form-group">
                  <label for="mucosasAfericao">Mucosas</label>
                  <select id="mucosasAfericao">
                    <option value="">Selecione...</option>
                    <option value="R√≥seas">R√≥seas (Normal)</option>
                    <option value="P√°lidas">P√°lidas</option>
                    <option value="Cian√≥ticas">Cian√≥ticas</option>
                    <option value="Ict√©ricas">Ict√©ricas</option>
                    <option value="Congestas">Congestas</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="hidratacaoAfericao">Hidrata√ß√£o</label>
                  <select id="hidratacaoAfericao">
                    <option value="">Selecione...</option>
                    <option value="Normal">Normal</option>
                    <option value="Leve (5%)">Leve (5%)</option>
                    <option value="Moderada (6-8%)">Moderada (6-8%)</option>
                    <option value="Grave (>10%)">Grave (>10%)</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="conscienciaAfericao">N√≠vel de Consci√™ncia</label>
                  <select id="conscienciaAfericao">
                    <option value="">Selecione...</option>
                    <option value="Alerta">Alerta</option>
                    <option value="Deprimido">Deprimido</option>
                    <option value="Estupor">Estupor</option>
                    <option value="Coma">Coma</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="urinaAfericao">Produ√ß√£o de Urina</label>
                  <input
                    type="text"
                    id="urinaAfericao"
                    placeholder="Ex: Normal, Ausente, Hemat√∫ria"
                  />
                </div>
                <div class="form-group full-width">
                  <label for="obsAfericao">Observa√ß√µes</label>
                  <textarea
                    id="obsAfericao"
                    rows="2"
                    placeholder="Observa√ß√µes adicionais..."
                  ></textarea>
                </div>
              </div>
              <button type="submit" class="btn btn-primary">
                Registrar Aferi√ß√£o
              </button>
            </form>

            <hr class="divider divider-spacing" />
            <h3>Evolu√ß√£o Gr√°fica</h3>
            <div class="grafico-container">
              <canvas id="graficoAfericoes"></canvas>
            </div>
            <h3>Evolu√ß√£o Press√£o Arterial</h3>
            <div class="grafico-container">
              <canvas id="graficoPressao"></canvas>
            </div>
            <h3>Evolu√ß√£o Glicemia</h3>
            <div class="grafico-container">
              <canvas id="graficoGlicemia"></canvas>
            </div>
            <h3>Hist√≥rico de Aferi√ß√µes</h3>
            <div id="listaAfericoes" class="historico-list"></div>

            <button
              class="btn btn-secondary"
              onclick="history.back()"
              class="mt-2"
            >
              Voltar
            </button>
          </article>
        </div>
      </section>
    </main>

    <!-- Modal de Alergias -->
    <div id="modalAlergias" class="modal-overlay hidden">
      <div class="modal-content">
        <h3>Alergias Cadastradas</h3>
        <ul id="listaAlergiasModal" class="lista-alergias-modal">
          <!-- Itens adicionados aparecer√£o aqui -->
        </ul>
        <div
          class="btn-toolbar"
          style="margin-top: 1rem; justify-content: flex-end"
        >
          <button
            type="button"
            id="btnCancelAlergias"
            class="btn btn-primary"
            style="width: auto"
          >
            Fechar
          </button>
        </div>
      </div>
    </div>

    <button id="logoutBtn" class="btn-btn-logout">Sair</button>

    <script src="../JS/session-auth.js"></script>
    <script src="../JS/shared.js"></script>
    <script src="../JS/afericoes.js"></script>
  </body>
</html>
