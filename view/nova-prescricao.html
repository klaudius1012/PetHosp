<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Prescri√ß√£o - PetClin</title>
    <link rel="stylesheet" href="../CSS/nova-prescricao.css" />
  </head>

  <body>
    <main class="login-card card">
      <!-- Coluna Esquerda: Lista de Servi√ßos -->
      <aside class="sidebar">
        <h3>Servi√ßos</h3>
        <ul id="listaServicos">
          <li onclick="window.location.href='home.html'">Dashboard</li>
          <li onclick="window.location.href='agenda.html'">Agenda</li>
          <li onclick="window.location.href='recepcao.html'">Recep√ß√£o</li>
          <li onclick="window.location.href='tutores.html'">Tutores</li>
          <li onclick="window.location.href='animais.html'">Animais</li>
          <li onclick="window.location.href='internacao.html'">Interna√ß√£o</li>
          <li onclick="window.location.href='vacinas.html'">Vacinas</li>
        </ul>
      </aside>

      <!-- Coluna Direita: Conte√∫do -->
      <section class="content-area">
        <button id="menuBtn" class="menu-btn" aria-label="Abrir menu">‚ò∞</button>
        <div id="conteudoServico" role="tabpanel">
          <article id="view-nova-prescricao">
            <!-- Cabe√ßalho do Paciente (Dados do Atendimento) -->
            <div class="atendimento-header">
              <div
                class="header-main"
                style="flex-direction: row; align-items: center; gap: 1rem"
              >
                <div
                  style="
                    width: 80px;
                    height: 80px;
                    border-radius: 50%;
                    overflow: hidden;
                    background-color: #f0f0f0;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    border: 2px solid #ddd;
                    flex-shrink: 0;
                  "
                >
                  <img
                    id="headerAnimalFoto"
                    src=""
                    alt="Foto"
                    style="
                      width: 100%;
                      height: 100%;
                      object-fit: cover;
                      display: none;
                    "
                  />
                  <span
                    id="headerAnimalFotoPlaceholder"
                    style="font-size: 2rem; color: #ccc"
                    >üêæ</span
                  >
                </div>
                <div style="display: flex; flex-direction: column">
                  <h2 id="headerAnimalNome" class="animal-highlight">
                    Nome do Animal
                  </h2>
                  <span id="headerAnimalIdade" class="animal-age"
                    >Idade: --</span
                  >
                </div>
              </div>

              <div class="header-info-grid">
                <div class="info-item">
                  <span class="label">Tutor</span>
                  <span class="value" id="headerTutor">--</span>
                </div>
                <div class="info-item">
                  <span class="label">Tel.</span>
                  <span class="value" id="headerTelefone">--</span>
                </div>
                <div class="info-item">
                  <span class="label">Ra√ßa</span>
                  <span class="value" id="headerRaca">--</span>
                </div>
                <div class="info-item">
                  <span class="label">Sexo</span>
                  <span class="value" id="headerSexo">--</span>
                </div>
                <div class="info-item">
                  <span class="label">Porte</span>
                  <span class="value" id="headerPorte">--</span>
                </div>
                <div class="info-item">
                  <span class="label">Reprod.</span>
                  <span class="value" id="headerReprodutiva">--</span>
                </div>
                <div class="info-item">
                  <span class="label">Peso</span>
                  <span class="value"><span id="headerPeso">--</span> kg</span>
                </div>
                <div class="info-item">
                  <span class="label">Temp.</span>
                  <span class="value"><span id="headerTemp">--</span> ¬∞C</span>
                </div>
                <div class="info-item alert-item">
                  <span class="label">Alergias</span>
                  <span class="value" id="headerAlergias">--</span>
                </div>
              </div>
            </div>

            <hr class="divider" />

            <!-- Formul√°rio de Prescri√ß√£o -->
            <form id="formPrescricao">
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                  margin-bottom: 1rem;
                "
              >
                <h3 style="margin-bottom: 0">Itens da Prescri√ß√£o</h3>
                <button
                  type="button"
                  id="btnDuplicarUltima"
                  class="btn btn-secondary"
                  style="width: auto; padding: 0.5rem 1rem; font-size: 0.9rem"
                >
                  ‚Ü∫ Repetir √öltima
                </button>
              </div>

              <div id="containerMedicamentos">
                <!-- Primeira linha de medicamento -->
                <div class="medicamento-row">
                  <div class="form-group" style="flex: 1; min-width: 100px">
                    <label>Via</label>
                    <select class="form-control input-via">
                      <option value="Oral">Oral</option>
                      <option value="T√≥pico">T√≥pico</option>
                      <option value="Oft√°lmico">Oft√°lmico</option>
                      <option value="Otol√≥gico">Otol√≥gico</option>
                      <option value="Subcut√¢neo">Subcut√¢neo</option>
                      <option value="Intramuscular">Intramuscular</option>
                      <option value="Intravenoso">Intravenoso</option>
                    </select>
                  </div>
                  <div class="form-group" style="flex: 3; min-width: 200px">
                    <label>Medicamento / Conc.</label>
                    <input
                      type="text"
                      class="form-control input-nome"
                      placeholder="Ex: Amoxicilina 250mg"
                      required
                    />
                  </div>
                  <div class="form-group" style="flex: 0.5; min-width: 80px">
                    <label>Dose</label>
                    <input
                      type="number"
                      class="form-control input-dose-qtd"
                      placeholder="0"
                      step="any"
                      required
                    />
                  </div>
                  <div class="form-group" style="flex: 1; min-width: 100px">
                    <label>Unidade</label>
                    <select class="form-control input-dose-unidade">
                      <option value="cp">cp</option>
                      <option value="ml">ml</option>
                      <option value="gotas">gotas</option>
                      <option value="amp">amp</option>
                      <option value="fr">fr</option>
                      <option value="mg">mg</option>
                    </select>
                  </div>
                  <div class="form-group" style="flex: 2; min-width: 150px">
                    <label>Frequ√™ncia</label>
                    <input
                      type="text"
                      class="form-control input-frequencia"
                      placeholder="Ex: a cada 12h"
                      required
                    />
                  </div>
                  <div class="form-group" style="flex: 1; min-width: 100px">
                    <label>Dura√ß√£o</label>
                    <input
                      type="text"
                      class="form-control input-duracao"
                      placeholder="Ex: 7 dias"
                    />
                  </div>
                  <button
                    type="button"
                    class="btn-remove-item"
                    title="Remover item"
                  >
                    üóëÔ∏è
                  </button>
                </div>
              </div>

              <button
                type="button"
                id="btnAddMedicamento"
                class="btn btn-neutral"
                style="margin-bottom: 2rem"
              >
                + Adicionar Item
              </button>

              <div class="form-group full-width">
                <label for="observacoes"
                  >Orienta√ß√µes Gerais / Observa√ß√µes</label
                >
                <textarea
                  id="observacoes"
                  rows="5"
                  class="form-control"
                  placeholder="Orienta√ß√µes sobre dieta, retorno, cuidados, etc."
                ></textarea>
              </div>

              <div
                class="btn-toolbar"
                style="justify-content: flex-end; gap: 1rem; margin-top: 1rem"
              >
                <button
                  type="button"
                  class="btn btn-secondary"
                  onclick="window.history.back()"
                >
                  Cancelar
                </button>
                <button type="submit" class="btn btn-primary">
                  Salvar Prescri√ß√£o
                </button>
              </div>
            </form>
          </article>
        </div>
      </section>
    </main>

    <!-- Bot√£o de Logout -->
    <button id="logoutBtn" class="btn-btn-logout">Sair</button>

    <!-- JS -->
    <script src="../JS/session-auth.js"></script>
    <script src="../JS/pagination.js"></script>
    <script src="../JS/nova-prescricao.js"></script>
  </body>
</html>
